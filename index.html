<!DOCTYPE html>
<html lang="hy">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Գտիր քո սեղանը</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');

:root {
  /* Կենտրոնացված տողի չափսերը հեշտ փոփոխելու համար */
  --line-width: 350px;    /* Input և row լայնությունը */
  --line-padding: 14px 24px; /* Input և row բարձրությունը + ներքին մարգոն */
  --font-size: 16px;      /* Տեքստի չափը */
  --border-radius: 50px;  /* Օվալ ձև */
  --gap: 20px;            /* Տողի միջև հեռավորություն */
}

body {
  font-family: 'Montserrat', sans-serif;
  background: linear-gradient(to right, #800020, #000);
  color: #fff;
  margin: 0;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
}

h1 { 
  font-size: 24px;
  margin-bottom: var(--gap);
  text-align:center; 
}

/* ===== INPUT ===== */
input {
  width: 100%;
  max-width: var(--line-width);
  font-size: var(--font-size);
  padding: var(--line-padding);
  border-radius: var(--border-radius);
  border: none;
  outline: none; 
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
  margin-bottom: var(--gap);
  background: #fff; 
  color: #000; 
  font-weight: 500;
}

input::placeholder { 
  color: #555; 
  font-style: italic; 
}

/* ===== RESULTS ROW ===== */
#results {
  width: 100%;
  max-width: var(--line-width);
}

.row {
  padding: var(--line-padding);
  margin-bottom: var(--gap);
  background: #fff;
  color: #000;
  border-radius: var(--border-radius);
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--font-size);
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  transition: transform 0.2s, box-shadow 0.2s;
}

.row:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.guest-name {
  font-weight: 500;
  word-break: break-word; /* Անունը դուրս չի գա */
}

.table {
  font-weight: 600;
  color: #800020;
  white-space: nowrap;
}

/* ===== MOBILE ===== */
@media (max-width: 600px) {
  :root {
    --line-width: 95%;       /* մոբայլում լայնությունը 95% էկրանից */
    --line-padding: 12px 20px;
    --font-size: 15px;
    --gap: 15px;
  }
}
</style>
</head>
<body>

<div class="wrapper">
  <h1>ԳՏԻՐ ՔՈ ՍԵՂԱՆԸ</h1>
  <input type="text" placeholder="Գրեք Ձեր անունը" oninput="search(this.value)">
  <div id="results"></div>
</div>

<script>
// ===== GOOGLE SHEET SETTINGS =====
const SHEET_ID = "1GF1ARQ52zejxKaIpS2At_D87OWhq92PYzVYCynDnItY";
const SHEET_NAME = "Sheet1";
let guests = [];

// ===== FETCH DATA =====
fetch(`https://opensheet.elk.sh/${SHEET_ID}/${SHEET_NAME}`)
  .then(res => res.json())
  .then(data => { guests = data; })
  .catch(err => console.error("Error fetching sheet:", err));

// ===== SEARCH FUNCTION =====
function search(value) {
  const input = value.toLowerCase().trim();
  const result = document.getElementById("results");

  if(input === "") {
    result.innerHTML = "";
    return;
  }

  const matches = guests.filter(g =>
    g.Name.toLowerCase().includes(input) ||
    (g.Հայերեն_Անուն && g.Հայերեն_Անուն.toLowerCase().includes(input))
  );

  result.innerHTML = "";

  if(matches.length === 0) {
    result.innerHTML = "<div class='row'>Սեղան չի գտնվել</div>";
    return;
  }

  matches.forEach(g => {
    result.innerHTML += `
      <div class="row">
        <div class="guest-name">${g.Name} | ${g.Հայերեն_Անուն || ''}</div>
        <span class="table">Սեղան ${g.Table}</span>
      </div>
    `;
  });
}
</script>

</body>
</html>
